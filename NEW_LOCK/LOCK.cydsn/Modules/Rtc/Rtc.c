#include "Rtc.h"int8_t Rtc_init(void){#ifdef PLATFORM    Rtc_t rtc;    RTC_1_Start();    rtc.year = 2018;    rtc.month = 7;    rtc.day = 1;    rtc.hour = 1;    rtc.minute = 1;    rtc.second = 30;    Rtc_Set(&rtc);#endif    return 0;}int8_t Rtc_Set(Rtc_t *t){    uint8_t mon[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};    uint16_t leap = 0;    if (t->month>12||t->month<=1)    {        return -1;    }    leap = (t->year % 4 == 0) && ((t->year % 100 != 0) || (t->year % 400 == 0));    if((t->day< 1 || t->day > mon[t->month]) && ((t->month != 2) || ((t->month == 2) && (t->day > mon[t->month] + leap))))    {        return -1;       }  #ifdef PLATFORM    uint32_t inputTime,inputDate;    inputDate = RTC_1_ConstructDate(t->month,t->day,t->year);    inputTime = RTC_1_ConstructTime(RTC_1_12_HOURS_FORMAT,RTC_1_AM,t->hour,t->minute,t->second);    RTC_1_SetDateAndTime(inputTime,inputDate);#endif    return 0;}int8_t Rtc_Get(Rtc_t *t){#ifdef PLATFORM    uint32 RtcTime;    RtcTime = RTC_1_GetDate();    t->year = RTC_1_GetYear(RtcTime);    t->month = RTC_1_GetMonth(RtcTime);    t->day = RTC_1_GetDay(RtcTime);    RtcTime = RTC_1_GetTime();    t->hour = RTC_1_GetHours(RtcTime);    t->minute = RTC_1_GetMinutes(RtcTime);    t->second = RTC_1_GetSecond(RtcTime);#endif    return 0;}